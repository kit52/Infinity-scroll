"use strict";(self.webpackChunkinfinity_scroll=self.webpackChunkinfinity_scroll||[]).push([[963],{839:(t,n,e)=>{e.d(n,{S:()=>l});var r=e(893),s=e(611);var i=e(294),o=e(655),a=e(70),c=function(){return c=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var s in n=arguments[e])Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);return t},c.apply(this,arguments)},l=(0,i.memo)((function(t){var n,e=t.className,i=t.post,l=t.number,u=t.collapsed,d=t.detailLink,p=((n={}).O61N9u4A=u,n);return(0,r.jsxs)("div",c({className:(0,s.A)("Q8j2LY9F",{},[e])},{children:[(0,r.jsxs)("div",c({className:"ECUcjPxM"},{children:[l&&l+".",i.title]})),(0,r.jsx)("div",c({className:(0,s.A)("HcFzYI4E",p,[])},{children:i.body})),d&&(0,r.jsx)(o.rU,c({to:a.h3.posts_detail+i.id},{children:"Просмотр"}))]}))}))},963:(t,n,e)=>{e.r(n),e.d(n,{default:()=>h});var r=e(893),s=e(611);var i=e(294),o=e(839),a=e(246),c=function(){return c=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var s in n=arguments[e])Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);return t},c.apply(this,arguments)},l=function(t,n){return(0,r.jsx)(o.S,{post:n,collapsed:!0,number:t,detailLink:!0},n.id)},u=(0,i.memo)((function(t){var n=t.className,e=t.posts,i=t.loadMorePosts;return(0,r.jsx)("div",c({className:(0,s.A)("GAcqo5JV",{},[n])},{children:(0,r.jsx)(a.OO,{style:{height:"600px"},data:e,itemContent:l,endReached:i})}))})),d=e(156).h.injectEndpoints({endpoints:function(t){return{getPosts:t.query({query:function(t){return{url:"/posts?_page=".concat(t,"&_limit=10")}}})}}}).useGetPostsQuery,p=function(){return p=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var s in n=arguments[e])Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);return t},p.apply(this,arguments)},f=function(t,n,e){if(e||2===arguments.length)for(var r,s=0,i=n.length;s<i;s++)!r&&s in n||(r||(r=Array.prototype.slice.call(n,0,s)),r[s]=n[s]);return t.concat(r||Array.prototype.slice.call(n))};const h=function(){var t=(0,i.useState)(1),n=t[0],e=t[1],s=d(n),o=s.isLoading,a=s.isError,c=s.isFetching,l=s.data,h=(0,i.useState)([]),j=h[0],v=h[1],y=(0,i.useCallback)((function(){e((function(t){return t+1}))}),[n]);return(0,i.useEffect)((function(){l&&v((function(t){return f(f([],t,!0),l,!0)}))}),[l]),o&&!c?(0,r.jsx)("div",{children:"Loading..."}):a||!l?(0,r.jsx)("div",{children:"Error loading posts"}):(0,r.jsxs)("div",p({style:{width:"100%"}},{children:[(0,r.jsx)("h1",{children:"Post list"}),(0,r.jsx)(u,{posts:j,loadMorePosts:y})]}))}}}]);